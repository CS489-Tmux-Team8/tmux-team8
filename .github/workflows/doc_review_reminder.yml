name: "Documentation-Review-Reminder"

on:
  schedule:
    # Schedule to run at 00:00 on the 1st day of January and July (every 6 months)
    - cron: '0 0 1 1,7 *'
  workflow_dispatch:

jobs:
  create_issue:
    runs-on: ubuntu-latest
    steps:
      - name: "Checkout source code"
        uses: "actions/checkout@v2.3.4"
        with:
          lfs: true
          fetch-depth: 0
    
      - name: Create Documentation Review Issue
        run: |
          new_issue_url=$(gh issue create \
            --title "Biannual Documentation Review" \
            --body "It's time for our biannual review of the documentation. @Documentation_Reviewers\n\nPlease go over the following:\n\n- Are all docs up to date?\n- Is any information missing?\n- Are there any new features or changes that need to be documented?")
          echo "New issue created: $new_issue_url"
          echo "ISSUE_URL=$new_issue_url" >> $GITHUB_ENV
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          GH_REPO: ${{ github.repository }}
